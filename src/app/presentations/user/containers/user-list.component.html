@if ($isError()) {
  <app-error-message></app-error-message>
} @else {
  <section>
    <header>
      <h1 class="text-2xl font-bold">User List</h1>
    </header>

    <div class="mt-6">
      <div class="relative overflow-x-auto shadow-md sm:rounded-lg">
        <app-table [columnHeaders]="tableColumnHeaders">
          <tbody tableBodyContent>
            @for (user of $users(); track $index) {
              <tr class="border-b border-gray-200 odd:bg-white even:bg-gray-50">
                <td class="px-6 py-4">{{ $index + 1 }}</td>
                <td class="px-6 py-4 font-medium text-gray-900">
                  {{ user.name }}
                </td>
                <td class="px-6 py-4 lowercase">{{ user.email }}</td>
                <td class="px-6 py-4">
                  <a
                    [href]="'http://' + user.website"
                    target="_blank"
                    class="text-blue-600 hover:underline"
                  >
                    {{ user.website }}
                  </a>
                </td>
                <td class="px-6 py-4">
                  <div class="flex">
                    <button
                      class="me-2 mb-2 flex cursor-pointer items-center gap-2 rounded-full bg-blue-700 px-5 py-2.5 text-sm font-medium text-white hover:bg-blue-800 focus:ring-4 focus:ring-blue-300 focus:outline-none"
                      id="BtnDetail"
                      type="button"
                      (click)="onDetailButtonClick(user.id)"
                    >
                      Detail
                      <svg
                        xmlns="http://www.w3.org/2000/svg"
                        fill="none"
                        viewBox="0 0 24 24"
                        stroke-width="2"
                        stroke="currentColor"
                        class="h-5 w-5"
                      >
                        <path
                          stroke-linecap="round"
                          stroke-linejoin="round"
                          d="M12 4.5c-4.65 0-8.5 3.35-8.5 7.5s3.85 7.5 8.5 7.5 8.5-3.35 8.5-7.5-3.85-7.5-8.5-7.5zm0 10.5c-1.66 0-3-1.34-3-3s1.34-3 3-3 3 1.34 3 3-1.34 3-3 3z"
                        />
                      </svg>
                    </button>
                  </div>
                </td>
              </tr>
            }
          </tbody>
        </app-table>
      </div>
    </div>
  </section>
}
